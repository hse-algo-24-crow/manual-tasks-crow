# Вариант задачи:
Имеется 6 независимых задач и 4 исполнителя с производительностями 5, 4, 3 и 2. Длительность заданий составляет 36, 30, 24, 18, 2, 2.    

# Решение:
Для решения задачи был выбрана стратегия разделения исполнителя для построения оптимального расписания. В задаче требуется определить оптимальное расписание для нескольких независимых заданий, выполняемых 4 исполнителями, причем прерывания разрешены, поэтому для ее решения будем использовать стратегию разделения процессов.

__Введем обозначения:__

| Задания      |  A  |  B  |  C  |  D  |  E  |  F  |
|:------------:|:---:|:---:|:---:|:---:|:---:|:---:|
| Длительность | 36  |  30 |  24 |  18 |  2  |   2 |


| Исполнители        |  P1  |  P2  |  P3  |  P4  |
|:------------------:|:----:|:----:|:----:|:----:|
| Производительность |   5  |   4  |   3  |   2  |

Длительность оптимального расписания для $k$ исполнителей и $n$ заданий рассчитаем по формуле:

$$  
T_{min} = \frac {V_1 + V_2 + ... + V_n}{p_1 + p_2 + ... + p_k}  
$$  

где $V_i$ - объем i-го задания, а $p_j$ - производительность j-го исполнителя. Минимальное время расписания предполагает, что в течении всего времени $T_{min}$ все исполнители будут работать непрерывно (без простоев).

Для нашего случая (k = 4, n = 6) получим:

$$
    T_{min} = \frac{36+30+24+18+2+2}{5+4+3+2} = \frac{112}{14} = 8
$$

Так как время оптимального расписания рассчитано, необходимо определить над какой задачей и в какое время каждый работник будет работать.

Для описания алгоритма построения оптимального расписания введем понятие **приоритета задания** в определенный момент времени - объем оставшейся части задания, которая в данный момент еще не выполнена. В начальный момент времени приоритет задания соответствует его объему.

__Основная идея алгоритма__: задания с высоким приоритетом выполняет работник с высокой производительностью.

Шаги алгоритма:
1. Назначим на задание с самым высоким приоритетом более производительного работника, на следующее по приоритетности - менее производительного работника:


| Приоритеты     |  1  |  2  |  3  |  4  |  5  |  5  |
|:--------------:|:---:|:---:|:---:|:---:|:---:|:---:|
| Задания        |  A  |  B  |  C  |  D  |  E  |  F  |
| Длительность   | __36__  |  __30__ |  __24__ |  __18__ |  2 |  2 |
| Назначенный исполнитель | Р1  |  Р2 |  P3 |  P4 |     |     |

2. Работники выполняют задания до тех пор, пока не сравняются приоритеты у заданий (или пока какое-то из заданий не будет выполнено).

*Решим уравнения:*

1) A = B <br>
36 - 5t = 30 - 4t <br>
<strong>t = 6</strong>

2) B = C <br>
        30 - 4t = 24-3t <br>
        <strong>t = 6</strong>

3) C = D <br>
        24 - 3t = 18-2t <br>
        <strong>t = 6</strong>

4) D = E = F <br>
        18 - 2t = 2 <br>
        t = 8

За 6 минут сравняютса приоритеты заданий *A, B, C и D*. У задач изменятся приоритеты, поэтому необходимо провести перераспределение работников. Проделаем этапы заново:

| Приоритеты     |  1  |  1  |  1  |  1  |  2  |  2  |
|:--------------:|:---:|:---:|:---:|:---:|:---:|:---:|
| Задания        |  A  |  B  |  C  |  D  |  E  |  F  |
| Длительность   | __6__  |  __6__ |  __6__ |  __6__ |  2 |  2 |
| Назначенный исполнитель | Р1+P2+P3+P4  |  Р1+P2+P3+P4 |  Р1+P2+P3+P4 |  Р1+P2+P3+P4 |     |     |

Так как задачи A, В, C и D имеют одинаковый приоритет, все исполнители будут выполнять их поочередно (так как по условию задачи разрешены прерывания работ).

*Решим уравнение:*

<table>
  <tr>
    <td>
      ABCD = EF <br>
      6 - 14t</sup>/<sub>4</sub> = 2<br>
      <strong>t = 8</sup>/<sub>7</sub></strong> <br>
    </td>
  </tr>
</table>

За <strong>8</sup>/<sub>7</sub></strong> минуты сравняются приоритеты *всех заданий*:

| Приоритеты     |  1  |  1  |  1  |  1  |  1  |  1  |
|:--------------:|:---:|:---:|:---:|:---:|:---:|:---:|
| Задания        |  A  |  B  |  C  |  D  |  E  |  F  |
| Длительность   | __2__  |  __2__ |  __2__ |  __2__ |  __2__ |  __2__ |

Так как длительность всех задач сравнялась, будем поочередно назначать исполнителей на все задачи (подробнее решение отображено в диаграмме Ганта).

Таким образом работы будут выполнены за:

$$
    T_{min} = \frac{2+2+2+2+2+2}{5+4+3+2} = \frac{12}{14} = 6/7
$$

# Ответ

Оптимальная длительность расписания равна __8 минут__.

*Построим диаграмму Ганта:*
```mermaid
gantt
    title Диаграмма Ганта - Стратегия разделения процессоров
    dateFormat DD HH:mm    
    axisFormat %H:%M
    Начало выполнения работ : milestone, m1, 01 00:00, 0h
    section Исполнитель Р1
    A         :a1, 01 00:00, 6h
    A         :a2, after a1, 0.28h
    B         :a3, after a2, 0.28h
    C         :a4, after a3, 0.28h
    D         :a5, after a4, 0.28h
    A         :a6, after a5, 0.14h
    B         :a7, after a6, 0.14h
    C         :a8, after a7, 0.14h
    D         :a9, after a8, 0.14h
    E         :a10, after a9, 0.14h
    F         :a11, after a10, 0.14h
    section Исполнитель Р2
    B         :b1, 01 00:00, 6h
    B         :b2, after b1, 0.28h
    C         :b3, after b2, 0.28h
    D         :b4, after b3, 0.28h
    A         :b5, after b4, 0.28h
    B         :b6, after b5, 0.14h
    C         :b7, after b6, 0.14h
    D         :b8, after b7, 0.14h
    E         :b9, after b8, 0.14h
    F         :b10, after b9, 0.14h
    A         :b11, after b10, 0.14h
    section Исполнитель Р3
    C         :c1, 01 00:00, 6h
    C         :c2, after c1, 0.28h
    D         :c3, after c2, 0.28h
    A         :c4, after c3, 0.28h
    B         :c5, after c4, 0.28h
    C         :c6, after c5, 0.14h
    D         :c7, after c6, 0.14h
    E         :c8, after c7, 0.14h
    F         :c9, after c8, 0.14h
    A         :c10, after c9, 0.14h
    B         :c11, after c10, 0.14h
    section Исполнитель Р4
    D         :d1, 01 00:00, 6h
    D         :d2, after d1, 0.28h
    A         :d3, after d2, 0.28h
    B         :d4, after d3, 0.28h
    C         :d5, after d4, 0.28h
    D         :d6, after d5, 0.14h
    E         :d7, after d6, 0.14h
    F         :d8, after d7, 0.14h
    A         :d9, after d8, 0.14h
    B         :d10, after d9, 0.14h
    C         :d11, after d10, 0.14h
    Окончание выполнения работ : milestone, m2, 01 08:00, 0h
```



