# Задание №11 Вариант 2
# Задача о рюкзаке (Knapsack problem). Метод ветвей и границ.

## Задание
Для каждого варианта представлены условия задачи, в соответствии с которыми необходимо: 
1. Решить задачу о рюкзаке с применением метода ветвей и границ.
2. Оформить решение задачи по шагам с подробными комментариями, таблицами и диаграммами.
3. В ответе указать:
- максимально возможную стоимость предметов в рюкзаке,
- набор предметов, обеспечивающих максимальную стоимость,
- общий вес предметов в рюкзаке,
- свободное место в рюкзаке.

## Постановка задачи
Задача о рюкзаке (англ. Knapsack problem) — дано N предметов, n<sub>i</sub> предмет имеет массу w<sub>i</sub> > 0 и стоимость p<sub>i</sub> > 0. Необходимо выбрать из этих предметов такой набор, чтобы суммарная масса не превосходила заданной величины W (вместимость рюкзака), а суммарная стоимость была максимальна. 

## Пример решения задачи о рюкзаке
## Условия задачи

| Предметы  | A | B  |  C  | D | E | F |
|:----------|:-:|:--:|:---:|:-:|:-:|:-:|
| Стоимость | 5 | 5  |  3  | 8 | 6 | 8 |
| Вес       | 5 | 10 | 12  | 2 | 2 | 4 |

Ограничение вместимости: 22

## Решение
### 1. Рассчитаем ценность каждого предмета
| Предметы  | A | B  |  C  | D | E | F |
|:----------|:-:|:--:|:---:|:-:|:-:|:-:|
| Стоимость | 5 | 5  |  3  | 8 | 6 | 8 |
| Вес       | 5 | 10 | 12  | 2 | 2 | 4 |
| Ценность  | 1 | 1/2| 1/4 | 4 | 3 | 2 |

### 2. Отсортируем предметы по убыванию ценности
| Предметы  | D | E  |  F  | A |  B  |  C  |
|:----------|:-:|:--:|:---:|:-:|:---:|:---:|
| Стоимость | 8 |  6 |  8  | 5 |  5  |  3  |
| Вес       | 2 |  2 |  4  | 5 |  10 |  12 |
| Ценность  | 4 |  3 |  2  | 1 | 1/2 | 1/4 |

### 3. Рассчитаем оценку сверху для пустого рюкзака

Свободное место в рюкзаке: 22

Наибольшая ценность предмета: 4

Оценка сверху для пустого рюкзака: 22 * 4 = 88


### 4. Найдем решение задачи с использованием метода ветвей и границ

```mermaid
graph TB
    1(#1\n22*4=88) -->|+D|2("#2 (22-2)*3+8=68")
    1 -->|-D|3("#3 22*3=66")

    2 -->|+E|4("#4 (20-2)*2+8+6=50")
    2 -->|-E|5("#5 20*2+8=48")

    3 -->|+E|6("#6 (22-2)*2+6=46")
    3 -->|-E|7("#7 22*4=44")

    4 -->|+F|8("#8 (18-4)+8+6+8=36")
    4 -->|-F|9("#9 18+8+6=32")

    5 -->|+F|10("#10 (20-4)+8+8=32")
    5 -->|-F|11("#11 20+8=28")

    6 -->|+F|12("#12 (20-4)*1+8+6=30")
    6 -->|-F|13("#13 20*1+6=26")

    7 -->|+F|14("#14 (22-6)+8+6=28")
    7 -->|-F|15("#15 22*1=22")

    8 -->|+A|16("#16 (18-5)+8+6+8+5=31.5")
    8 -->|-A|17("#17 14*0.5+22=29")

    9 -->|+A|18("#18 (18-5)*0.5+14+5=25.5")
    9 -->|-A|19("#19 18*0.5+14=23")

    10 -->|+A|21("#21 (16-5)*0.5+21=26.5")
    10 -->|-A|20("#20 16*0.5+16=24")

    12 -->|+A|24(#24 11*0.5+6+8+5=24.5)
    12 -->|-A|25(#25 16*0.5+6+8=22)

    16 -->|+B|22(#22 Не влезет!)
    16 -->|-B|23(#23 9*0.25+19=21.25)

    17 -->|+B|26(#26 4*0.25+27=28)
    17 -->|-B|27(#27 14*0.25+8+6+8=25.5)

    26 -->|+C|28(#28 не влезет!)
    26 -->|-C|29(#29 27)


```
    
### Ответ
- Наибольшая стоимость предметов в рюкзаке 27.
- Набор предметов, обеспечивающих максимальную стоимость, D, E, F, B общим весом 13.
- Свободное место в рюкзаке 9.
