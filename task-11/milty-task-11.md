# Задание №11
# Задача о рюкзаке (Knapsack problem). Метод ветвей и границ
# Вариант 3
## Постановка задачи
Задача о рюкзаке (англ. Knapsack problem) — дано N предметов, n<sub>i</sub> предмет имеет массу w<sub>i</sub> > 0 и стоимость p<sub>i</sub> > 0. Необходимо выбрать из этих предметов такой набор, чтобы суммарная масса не превосходила заданной величины W (вместимость рюкзака), а суммарная стоимость была максимальна. 
| Предметы  | A  | B  | C  | D  | E |
|:----------|:--:|:--:|:--:|:--:|:-:|
| Стоимость | 11 | 5  | 3  | 12 | 8 |
| Вес       | 11 | 10 | 12 | 4  | 4 |

Ограничение вместимости: 22

## Решение
### 1. Рассчитаем ценность каждого предмета

| Предметы  | A  | B  | C  | D  | E |
|:----------|:--:|:--:|:--:|:--:|:-:|
| Стоимость | 11 | 5  | 3  | 12 | 8 |
| Вес       | 11 | 10 | 12 | 4  | 4 |
| Ценность  | 1  | 1/2| 1/4| 3  | 2 |
### 2. Отсортируем предметы по убыванию ценности
| Предметы  | D  | E  | A  | B  | C  |
|:----------|:--:|:--:|:--:|:--:|:--:|
| Стоимость | 12 | 8  | 11 | 5  | 3  |
| Вес       | 4  | 4  | 11 | 10 | 12 |
| Ценность  | 3  | 2  | 1  | 1/2| 1/4|
### 3. Рассчитаем оценку сверху для пустого рюкзака
Свободное место в рюкзаке: 22
Наибольшая ценность предмета: 3
Оценка сверху для пустого рюкзака: 21 * 3 = 66

### 4. Найдем решение задачи с использованием метода ветвей и границ

```mermaid
graph TD
    %% Корень
    N1["1: 66 (22*3=66)"]
    N1 -->|+D| N2["2: 48 (12 + 18*2=48)"]
    N1 -->|-D| N3["3: 44 (22*2=44)"]
    
    %% Раскрытие узлов из N2 ()
    N2 -->|+E| N4["4: 34 (20 + 14*1=34)"]
    N2 -->|-E| N6["6: 30 (12 + 18*1=30)"]
    
    %% Раскрытие узлов из N3 ()
    N3 -->|+E| N9["9: 26 (8 + 18*1=26)"]
    N3 -->|-E| N14["14: 22 (0 + 22*1=22)"]
    
    %% Раскрытие узлов из N4 ()
    N4 -->|+A| N5["5: 32.5 (31 + 3*0.5=32.5)"]
    N4 -->|-A| N7["7: 27 (20 + 14*0.5=27)"]
    
    %% Раскрытие узлов из N6 ()
    N6 -->|+A| N8["8: 26.5 (23 + 7*0.5=26.5)"]
    N6 -->|-A| N15["15: 21 (12 + 18*0.5=21)"]
    
    %% Раскрытие узлов из N7 ()
    N7 -->|+B| N10["10: 26 (25 + 4*0.25=26)"]
    N7 -->|-B| N11["11: 23.5 (20 + 14*0.25=23.5)"]
    
    %% Раскрытие узлов из N11 ()
    N11 -->|+C| N12["12: 23.5 (23 + 2*0.25=23.5)"]
    N11 -->|-C| N16["16: 20 (20)"]
    
    %% Раскрытие узлов из N9 ()
    N9 -->|+A| N13["13: 22.5 (19 + 7*0.5=22.5)"]
    N9 -->|-A| N18["18: 17 (8 + 18*0.5=17)"]
    
    %% Раскрытие узлов из N18 ()
    N18 -->|+B| N22["22: 15 (13 + 8*0.25=15)"]
    N18 -->|-B| N25["25: 12.5 (8 + 18*0.25=12.5)"]
    
    %% Раскрытие узлов из N25 ()
    N25 -->|+C| N28["28: 11 (11)"]
    N25 -->|-C| N29["29: 8 (8)"]
    
    %% Раскрытие узлов из N14 ()
    N14 -->|+A| N19["19: 16.5 (11 + 11*0.5=16.5)"]
    N14 -->|-A| N27["27: 11 (0 + 22*0.5=11)"]
    
    %% Раскрытие узлов из N19 ()
    N19 -->|+B| N21["21: 16.25 (16 + 1*0.25=16.25)"]
    N19 -->|-B| N24["24: 13.75 (11 + 11*0.25=13.75)"]
    
    %% Раскрытие узлов из N15 ()
    N15 -->|+B| N17["17: 19 (17 + 8*0.25=19)"]
    N15 -->|-B| N20["20: 16.5 (12 + 18*0.25=16.5)"]
    
    %% Раскрытие узлов из N20 ()
    N20 -->|+C| N23["23: 15 (15)"]
    N20 -->|-C| N26["26: 12 (12)"]
    
    %% Раскрытие узлов из N27 ()
    N27 -->|+B| N30["30: 8 (5 + 12*0.25=8)"]
    N27 -->|-B| N32["32: 5.5 (0 + 22*0.25=5.5)"]
    
    %% Раскрытие узлов из N30 ()
    N30 -->|+C| N31["31: 8 (8)"]
    N30 -->|-C| N33["33: 5 (5)"]
```

### Ответ
- Наибольшая стоимость предметов в рюкзаке 31.
- Набор предметов, обеспечивающих максимальную стоимость: A, D, E, общим весом 19.
- Свободное место в рюкзаке: 3.