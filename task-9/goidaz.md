# Задание №9
# Задача о максимальном потоке.

### Вариант 8:
#### Пропускная способность дуг сети:

|          Дуга          | sa | at | sb | ab | ac | bc | bt | ct |
|:----------------------:|:--:|:--:|:--:|:--:|:--:|:--:|:--:|:--:|
| Пропускная способность | 8  | 7  | 5  | 3  | 6  | 5  | 2  | 5  |

---

### 1. Построение исходной сети

Сеть с источником **s**, стоком **t** и заданными дугами имеет следующий вид:

~~~mermaid
graph LR
    
    s-->|8|a
    a-->|7|t
    s-->|5|b
    a-->|3|b
    a-->|6|c
    b-->|5|c
    b-->|2|t
    c-->|5|t
~~~

---

### 2. Построение начальной остаточной сети

Изначально поток во всех дугах равен нулю, поэтому для каждой дуги добавляем обратную дугу с той же пропускной способностью:

~~~mermaid
graph RL
    a-.->|8|s
    b-.->|5|s
    t-.->|7|a
    b-.->|3|a
    c-.->|6|a
    c-.->|5|b
    t-.->|2|b
    t-.->|5|c
~~~

---

### 3. Первый шаг — поиск увеличивающего пути

**Находим увеличивающий путь:**  
**t → a → s**

Этот обратный путь соответствует прямому пути **s → a → t**.

- Для дуги **t → a** смотрим дугу **a → t**: вес = **7**
- Для дуги **a → s** смотрим дугу **s → a**: вес = **8**

min(7, 8) = **7**.

**Обновлённая остаточная сеть после первого шага:**

~~~mermaid
graph RL
    a-.->|1|s
    s-->|7|a
    b-.->|5|s
    a-->|7|t
    b-.->|3|a
    c-.->|6|a
    c-.->|5|b
    t-.->|2|b
    t-.->|5|c
~~~

---

### 4. Второй шаг — поиск увеличивающего пути

В обновлённой остаточной сети выбираем следующий путь:

**Найдём увеличивающий путь:**  
**t → b → s**

Он соответствует прямому пути **s → b → t**.

- Для дуги **t → b**: смотрим дугу **b → t**: вес = **2**.
- Для дуги **b → s**: смотрим дугу **s → b**: вес = **5**.

min(2, 5) = **2**.

**Обновлённая остаточная сеть после второго шага:**

~~~mermaid
graph RL
    a-.->|1|s
    s-->|7|a
    b-.->|3|s
    s-->|2|b
    a-->|7|t
    b-.->|3|a
    c-.->|6|a
    c-.->|5|b
    b-->|2|t
    t-.->|5|c
~~~

---

### 5. Третий шаг — поиск увеличивающего пути

Находим ещё один увеличивающий путь:

**Найдём увеличивающий путь:**  
**t → c → b → s**

Этот путь соответствует прямому пути **s → b → c → t**.

- Для дуги **t → c**: смотрим дугу **c → t**: вес = **5**.
- Для дуги **c → b**: смотрим дугу **b → c**: вес = **5**.
- Для дуги **b → s**: смотрим дугу **s → b**: вес = **3**.

min(5, 5, 3) = **3**.

**Обновлённая остаточная сеть после третьего шага:**

~~~mermaid
graph RL
    a-.->|1|s
    s-->|7|a
    s-->|3|b
    s-->|2|b
    a-->|7|t
    b-.->|3|a
    c-.->|6|a
    c-.->|2|b
    b-->|3|c
    b-->|2|t
    t-.->|2|c
    c-->|3|t
~~~

---
### 6. Четвёртый шаг — поиск увеличивающего пути
Находим ещё один увеличивающий путь:

**Найдём увеличивающий путь:**  
**t → c → a → s**

Этот путь соответствует прямому пути **s → a → c → t**.

- Для дуги **t → c**: смотрим дугу **c → t**: вес = **2**.
- Для дуги **c → a**: смотрим дугу **a → c**: вес = **6**.
- Для дуги **a → s**: смотрим дугу **s → a**: вес = **1**.

min(2, 6, 1) = **1**.

**Обновлённая остаточная сеть после четвёртого шага:**

~~~mermaid
graph RL
    s-->|1|a
    s-->|7|a
    s-->|3|b
    s-->|2|b
    a-->|7|t
    b-.->|3|a
    c-.->|5|a
    a-->|1|c
    c-.->|2|b
    b-->|3|c
    b-->|2|t
    t-.->|1|c
    c-->|1|t
    c-->|3|t
~~~
---
### 7. Корректировка

Cкорректируем локальные потоки в исходной сети, указывая сначала значение локального потока, а затем пропускную способность дуги.

**Исходная сеть:**
~~~mermaid
graph LR
    s-->|8|a
    s-->|5|b
    a-->|7|t
    a-->|3|b
    a-->|6|c
    b-->|5|c
    b-->|2|t
    c-->|5|t
~~~
**Скорректированная сеть:**

~~~mermaid
graph LR
    s-->|"(8, 8)"|a
    s-->|"(5, 5)"|b
    a-->|"(7, 7)"|t
    a-->|"(0, 3)"|b
    a-->|"(1, 6)"|c
    b-->|"(3, 5)"|c
    b-->|"(2, 2)"|t
    c-->|"(4, 5)"|t
~~~

Суммарный поток, исходящий из **s**:  
8 (s→a) + 5 (s→b) = **13**.

---
### 8. Продолжаем поиск увеличивающего пути

Теперь в остаточной сети отсутствуют пути, способные увеличить поток, что свидетельствует о завершении работы алгоритма. Таким образом, найденное значение потока, равное **13**, является максимальным для данной сети.

---
### 9. Проверка максимального потока через разрезы

Для сети с 5 вершинами возможно 2^(5–2)=8 разрезов. Рассмотрим несколько вариантов:

| № | V<sub>1</sub>        | V<sub>2</sub>      | Пропускная способность разреза   |
|---|----------------------|---------------------|----------------------------------|
| 1 | {s}                  | {a, b, c, t}        | **s→a (8) + s→b (5) = 13**       |
| 2 | {s, a}               | {b, c, t}           | s→b (5) + a→t (7) + a→c (6) = 21 |
| 3 | {s, b}               | {a, c, t}           | s→a (8) + b→c (5) + b→t (2) = 15 |
| 4 | {s, c}               | {a, b, t}           | s→a (8) + s→b (5) + c→t (5) = 18 |
| 5 | {s, a, b}            | {c, t}              | a→c (6) + b→c (5) + a→t (7) + b→t (2) = 20 |
| 6 | {s, a, c}            | {b, t}              | s→b (5) + a→b (3) + a→t (7) + c→t (5) = 20 |
| 7 | {s, b, c}            | {a, t}              | s→a (8) + b→t (2) + c→t (5) = 15 |
| 8 | {s, a, b, c}         | {t}                 | a→t (7) + b→t (2) + c→t (5) = 14 |

Минимальная пропускная способность разреза равна **13** (разрез №1), что совпадает с найденным максимальным потоком.

---

### Ответ:

Максимальный поток в сети равен **13**, и он реализуется следующими локальными потоками:

~~~mermaid
graph LR
    s-->|"(8, 8)"|a
    s-->|"(5, 5)"|b
    a-->|"(7, 7)"|t
    a-->|"(0, 3)"|b
    a-->|"(1, 6)"|c
    b-->|"(3, 5)"|c
    b-->|"(2, 2)"|t
    c-->|"(4, 5)"|t
~~~

