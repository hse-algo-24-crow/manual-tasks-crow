# Задача о распределении инвестиций между проектами
Условия задачи представляются в виде прямоугольной матрицы, где столбцы соответствуют проектам, а строки части инвестиций, направляемых в проекты, объем инвестиций указывается в первом столбце. В ячейках таблицы представлены суммы прибыли от вложения некоторой части средств в определенный проект.
Для решения задачи требуется рассчитать максимально возможную сумму прибыли от вложения всех средств в проекты и распределение этой суммы между проектами.

## Вариант 5

## Условие:

| $   | A   | B   | C   | D   |
|-----|-----|-----|-----|-----|
| 10  | 9   | 7   | 8   | 6   |
| 20  | 4   | 17  | 5   | 14  | 
| 30  | 12  | 18  | 19  | 16  | 
| 40  | 11  | 21  | 20  | 23  |
| 50  | 19  | 22  | 24  | 22  |

## Решение:

Для решения задачи разобьём её на подзадачи, распределив инвестиции сначала для проектов A и B, а после объединив их, считая за единый проект, для дальнейших расчётов
Составим несколько таблиц. Чтобы заполнить их воспользуемся заданной таблицей из условиями

## Таблица решения

В данную таблицу будут вноситься результаты вычисления

|     |A и B  |AB и C  |ABC и D  |
|-----|-------|--------|---------|
| 1   |7 A0B1 |8 AB0C1 |6 ABC0D1 |
| 2   |17 A0B2|17 AB2C0|17 ABC2D0| 
| 3   |26 A1B2|26 AB3C0|26 ABC3C0| 
| 4   |27 A1B3|34 AB3C1|34 ABC4D0|
| 5   |29 A3B2|36 AB2C3|40 ABC4D1|

Первая строчка заполняется из исходной таблицы, принимая предыдущий проект или проекты за нулевое вложение

Заполним первый столбец. В каждом новом столбце следующей таблицы увеличивается доля вложения в проект B. Доля вложение в проект A остаётся неизменным, но учитывается лишь те строчки, в которых заполнены все переменные

|  A  | B   |     |     | 
|-----|-----|-----|-----|
| 0   | 2   | 17  |  17 |
| 1   | 1   | 9+7 |  16 |
| 2   | 0   |  4  |   4 |
| 3   |     |     |     |
| 4   |     |     |     |
| 5   |     |     |     |

Выберем наибольшее значение и запишем в соответсвующую строку, указав максимальную сумму и доли вложения для каждого проекта.
Составим такие таблицы для расчётов остальных долей

|  A  | B   |     |     | 
|-----|-----|-----|-----|
| 0   | 3   | 18  |  18 |
| 1   | 2   | 9+17|  26 |
| 2   | 1   | 4+7 |  11 |
| 3   | 0   |  12 |  12 |
| 4   |     |     |     |
| 5   |     |     |     |

|  A  | B   |     |     | 
|-----|-----|-----|-----|
| 0   | 4   | 21  |  21 |
| 1   | 3   | 9+18|  27 |
| 2   | 2   | 4+17|  21 |
| 3   | 1   | 12+7|  19 |
| 4   | 0   | 11  |  11 |
| 5   |     |     |     |

|  A  | B   |      |     | 
|-----|-----|------|-----|
| 0   | 5   | 22   |  22 |
| 1   | 4   | 9+21 |  30 |
| 2   | 3   | 4+18 |  22 |
| 3   | 2   | 12+17|  29 |
| 4   | 1   | 11+7 |  18 |
| 5   | 0   | 19   |  19 |

Теперь рассчитаем долю для проекта C. Для этого будем считать проекты A и B, как совместный прошлый, ведь не имеет смысла пересчитывать его ещё раз

|  AB | C   |     |     | 
|-----|-----|-----|-----|
| 0   | 2   | 5   |  5  |
| 1   | 1   | 7+8 |  15 |
| 2   | 0   | 17  |  17 |
| 3   |     |     |     |
| 4   |     |     |     |
| 5   |     |     |     |

|  AB | C   |     |     | 
|-----|-----|-----|-----|
| 0   | 3   | 19  |  19 |
| 1   | 2   | 7+5 |  12 |
| 2   | 1   | 17+8|  25 |
| 3   | 0   | 26  |  26 |
| 4   |     |     |     |
| 5   |     |     |     |

|  AB | C   |     |     | 
|-----|-----|-----|-----|
| 0   | 4   | 20  |  20 |
| 1   | 3   | 7+19|  26 |
| 2   | 2   | 17+5|  22 |
| 3   | 1   | 26+8|  34 |
| 4   | 0   | 27  |  27 |
| 5   |     |     |     |

|  AB | C   |      |     | 
|-----|-----|------|-----|
| 0   | 5   | 24   |  24 |
| 1   | 4   | 7+20 |  27 |
| 2   | 3   | 17+19|  36 |
| 3   | 2   | 26+5 |  31 |
| 4   | 1   | 27+8 |  35 |
| 5   | 0   | 29   |  29 |

Проделаем те же самые шаги для вычисления доли вложения для D

| ABC | D   |     |     | 
|-----|-----|-----|-----|
| 0   | 2   | 14  |  14 |
| 1   | 1   | 8+6 |  14 |
| 2   | 0   | 17  |  17 |
| 3   |     |     |     |
| 4   |     |     |     |
| 5   |     |     |     |

| ABC | D   |     |     | 
|-----|-----|-----|-----|
| 0   | 3   | 16  |  16 |
| 1   | 2   | 8+14|  22 |
| 2   | 1   | 17+6|  23 |
| 3   | 0   | 26  |  26 |
| 4   |     |     |     |
| 5   |     |     |     |

| ABC | D   |      |     | 
|-----|-----|------|-----|
| 0   | 4   | 23   |  23 |
| 1   | 3   | 8+16 |  24 |
| 2   | 2   | 17+14|  31 |
| 3   | 1   | 26+6 |  32 |
| 4   | 0   | 34   |  34 |
| 5   |     |      |     |

| ABC | D   |      |     | 
|-----|-----|------|-----|
| 0   | 5   | 22   |  22 |
| 1   | 4   | 8+23 |  31 |
| 2   | 3   | 17+16|  33 |
| 3   | 2   | 26+14|  40 |
| 4   | 1   | 34+6 |  40 |
| 5   | 0   | 36   |  36 |

Максимальная прибыль: 40

В последней таблице расчёта доли для D мы можем заметить одинаковое максимальное значение

Восстановим путь получения максимальной прибыль, получив доли вложения в каждый проект, и произведём проверку:

Путь 40 ABC4D0
Вложения в проекты:
А: 1
B: 2
C: 1
D: 0
Проверка: 9 + 17 + 8 = 34
Так как значение проверки и максимальной прибыли не сходится, такой путь нам не подходит

Путь 40 ABC4D1
Вложения в проекты:
А: 1
B: 2
C: 1
D: 1
Проверка: 9 + 17 + 8 + 6 = 40
Так как значение проверки и максимальной прибыли сходится, путь нам подходит

**ОТВЕТ:** Максимальная прибыль, которую можно получить, равна 40. Для этого нужно вложить 10 тыс. руб в проекты A, C и D и 20 тыс. руб в проект B