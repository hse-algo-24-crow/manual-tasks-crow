# Задание 13. Вариант 7

## Постановка задачи

Решить задачу о рюкзаке с применением генетического алгоритма, с учетом следующих требований:

Придумать условия задачи с количеством предметов не менее 8.
Численность популяции не менее 6 особей, в скрещивании участвует 1/3 популяции.
Для скрещивания выбираются сильнейшие особи, скрещивание – двухточечное.
До выполнения алгоритма сформулировать стратегию применения оператора мутации.
Сформировать не менее 3 поколений, не считая первоначального.

## Условия задачи

| Предметы  | A  | B  | C  | D  | E  | F  | G  | H  |   
|:----------|:--:|:--:|:--:|:--:|:--:|:--:|:--:|:--:|
| Вес       | 4  | 6  | 3  | 8  | 11 | 2  | 9  | 10 |
| Стоимость | 10 | 12 | 7  | 14 | 19 | 6  | 17 | 18 |

**Ограничение вместимости**: 30

**Стратегия применения оператора мутации**: применение оператора для двух случайных битов хромосомы в случае, если особь нежизнесобна (или идентична с родителем), до момента, когда она станет жизнеспособна (и отлична от родителя)

**Критерий остановки**: сформировано 3 поколения без учета первоначального

## Решение

### Шаг №1. Инициализация первого поколения

Численность популяции составляет не менее 6 особей. Случайным образом опишем первые 6 особей.

| Предметы  | A  | B  | C  | D  | E  | F  | G  | H  | Вес |
|:----------|:--:|:--:|:--:|:--:|:--:|:--:|:--:|:--:|:---:|
| X1        | 1  | 1  | 1  | 0  | 0  | 1  | 0  | 0  | 15  |
| X2        | 0  | 0  | 0  | 1  | 0  | 1  | 1  | 0  | 19  |
| X3        | 0  | 1  | 0  | 0  | 1  | 0  | 0  | 1  | 27  |
| X4        | 0  | 0  | 0  | 1  | 1  | 0  | 1  | 0  | 28  |
| X5        | 1  | 0  | 0  | 1  | 0  | 0  | 0  | 1  | 22  |
| X6        | 0  | 0  | 1  | 0  | 0  | 1  | 1  | 1  | 24  |

### Шаг №2. Скрещивание и второе поколение

В скрещивании участвует 1/3 сильнейших особей. Самые приспособленные 2 особи - X3, X4. Проведем двуточечное скрещивание.

| Предметы  | A  | B  |   | C  | D  | E  |   | F  | G  | H  |
|:----------|:--:|:--:|:-:|:--:|:--:|:--:|:-:|:--:|:--:|:--:|
| X3        | 0  | 1  |   | 0  | 0  | 1  |   | 0  | 0  | 1  |
| X4        | 0  | 0  |   | 0  | 1  | 1  |   | 0  | 1  | 0  |
|           |    |    |   |    |    |    |   |    |    |    |
| X7        | 0  | 1  |   | 0  | 1  | 1  |   | 0  | 0  | 1  |
| X8        | 0  | 0  |   | 0  | 0  | 1  |   | 0  | 1  | 0  |

Подсчитываем вес получившихся особей.
X7: 6 + 8 + 11 + 10 = 35 > 30, следовательно, особь нежизнесособна => мутация => 01011100
X7: 6 + 8 + 11 + 2 = 27
X8: 11 + 9 = 20

Получили потомков, формируем второе поколение, выбрав из имеющихся 8 особей наиболее приспособленных => X3(27), X4(28), X5(22), X6(24), X7(27), X8(20). Второе поколение выглядит следующим образом:

| Предметы  | A  | B  | C  | D  | E  | F  | G  | H  | Вес |
|:----------|:--:|:--:|:--:|:--:|:--:|:--:|:--:|:--:|:---:|
| X3        | 0  | 1  | 0  | 0  | 1  | 0  | 0  | 1  | 27  |
| X4        | 0  | 0  | 0  | 1  | 1  | 0  | 1  | 0  | 28  |
| X5        | 1  | 0  | 0  | 1  | 0  | 0  | 0  | 1  | 22  |
| X6        | 0  | 0  | 1  | 0  | 0  | 1  | 1  | 1  | 24  |
| X7        | 0  | 1  | 0  | 1  | 1  | 1  | 0  | 0  | 27  |
| X8        | 0  | 0  | 0  | 0  | 1  | 0  | 1  | 0  | 20  |

### Шаг №3. Скрещивание и третье поколение

Самые приспособленные 2 особи - X4, X7 (X3 не берем, так как X3 и X4 скрещивали в шаге №2). Проведем двуточечное скрещивание.

| Предметы  | A  | B  | C  | D  |   | E  | F  |   | G  | H  |
|:----------|:--:|:--:|:--:|:--:|:-:|:--:|:--:|:-:|:--:|:--:|
| X4        | 0  | 0  | 0  | 1  |   | 1  | 0  |   | 1  | 0  |
| X7        | 0  | 1  | 0  | 1  |   | 1  | 1  |   | 0  | 0  |
|           |    |    |    |    |   |    |    |   |    |    |
| X9        | 0  | 0  | 0  | 1  |   | 1  | 1  |   | 1  | 0  |
| X10       | 0  | 1  | 0  | 1  |   | 1  | 0  |   | 0  | 0  |

Подсчитываем вес получившихся особей.
X9: 8 + 11 + 2 + 9 = 30
X10: 6 + 8 + 11 = 25

Получили потомков, формируем третье поколение, выбрав из имеющихся 8 особей наиболее приспособленных => X3(27), X4(28), X6(24), X7(27), X9(30), X10 (25). Третье поколение выглядит следующим образом:

| Предметы  | A  | B  | C  | D  | E  | F  | G  | H  | Вес |
|:----------|:--:|:--:|:--:|:--:|:--:|:--:|:--:|:--:|:---:|
| X3        | 0  | 1  | 0  | 0  | 1  | 0  | 0  | 1  | 27  |
| X4        | 0  | 0  | 0  | 1  | 1  | 0  | 1  | 0  | 28  |
| X6        | 0  | 0  | 1  | 0  | 0  | 1  | 1  | 1  | 24  |
| X7        | 0  | 1  | 0  | 1  | 1  | 1  | 0  | 0  | 27  |
| X9        | 0  | 0  | 0  | 1  | 1  | 1  | 1  | 0  | 30  |
| X10       | 0  | 1  | 0  | 1  | 1  | 0  | 0  | 0  | 25  |

### Шаг №4. Скрещивание и четвертое поколение

Самые приспособленные 2 особи - X4, X9. Проведем двуточечное скрещивание.

| Предметы  | A  | B  | C  | D  |   | E  | F  |   | G  | H  |
|:----------|:--:|:--:|:--:|:--:|:-:|:--:|:--:|:-:|:--:|:--:|
| X4        | 0  | 0  | 0  | 1  |   | 1  | 0  |   | 1  | 0  |
| X9        | 0  | 0  | 0  | 1  |   | 1  | 1  |   | 1  | 0  |
|           |    |    |    |    |   |    |    |   |    |    |
| X11       | 0  | 0  | 0  | 1  |   | 1  | 1  |   | 1  | 0  |
| X12       | 0  | 0  | 0  | 1  |   | 1  | 0  |   | 1  | 0  |

Особи получились идентичны родителям => проводим мутацию.
X11: 00011110 -> 10001110
X12: 00011010 -> 01010010

Подсчитываем вес получившихся особей.
X11: 4 + 11 + 2 + 9 = 26
X12: 6 + 8 + 9 = 23

Получили потомков, формируем третье поколение, выбрав из имеющихся 8 особей наиболее приспособленных => X3(27), X4(28), X7(27), X9(30), X10(25), X11(26). Четвертое поколение выглядит следующим образом:

| Предметы  | A  | B  | C  | D  | E  | F  | G  | H  | Вес |
|:----------|:--:|:--:|:--:|:--:|:--:|:--:|:--:|:--:|:---:|
| X3        | 0  | 1  | 0  | 0  | 1  | 0  | 0  | 1  | 27  |
| X4        | 0  | 0  | 0  | 1  | 1  | 0  | 1  | 0  | 28  |
| X7        | 0  | 1  | 0  | 1  | 1  | 1  | 0  | 0  | 27  |
| X9        | 0  | 0  | 0  | 1  | 1  | 1  | 1  | 0  | 30  |
| X10       | 0  | 1  | 0  | 1  | 1  | 0  | 0  | 0  | 25  |
| X11       | 0  | 1  | 0  | 1  | 0  | 0  | 1  | 0  | 26  |

### Шаг №5. Выбор победителя

Выбираем самую приспособленную особь: X9(30) - 00011110
Стоимость предметов: 14 + 19 + 6 + 17 = 56

### Ответ
- Наибольшая стоимость предметов в рюкзаке 56.
- Набор предметов, обеспечивающих максимальную стоимость: D, E, F, G - общим весом 30.
- Свободное место в рюкзаке 0.