### Вариант 9: 
Решить задачу о рюкзаке с применением генетического алгоритма, с учетом следующих требований:
   - Придумать условия задачи с количеством предметов не менее 6.
   - Численность популяции не менее 4 особей, в скрещивании участвует половина популяции. 
   - Для скрещивания выбираются особи по принципу рулетки, скрещивание – равномерное.
   - До выполнения алгоритма сформулировать стратегию применения оператора мутации.
   - Сформировать не менее 3 поколений, не считая первоначального.


| Предметы  | A | B  | C  | D  | E  | F  | G  |
|:----------|:-:|:--:|:--:|:--:|:--:|:--:|:--:|
| Стоимость | 17 | 8 | 20 | 9  | 2  | 9  | 8  |
| Вес       | 12 | 5 | 10  | 6  | 2 | 3  |  7 |

Вместимость рюкзака 25.

**Условие завершения:** сформировано три поколения, не считаля начального.
**Стратегия применения оператора мутации:** если особь нежизеспособна, применяем оператор мутации в одной позиции до тех пор, пока она не станет жизнеспособна.

Анализ таблицы показывает, что все предметы не могут одновременно поместиться в рюкзак, так как из общий вес равен 12 + 5 + 10 + 6 + 2 + 3 + 7 = 45, что превышает вместимость рюкзака. 

Пусть каждое поколение насчитывает 4 особи. Ниже приведены особи, образующие первое поколение (они сгенерированы случайным образом):


| Предметы  | A  | B  | C  | D  | E  | F  | G  | f(x)  | Вес  |
|:----------|:--:|:--:|:--:|:--:|:--:|:--:|:--:|:-----:|:----:|
| x1        | 0  | 0  | 0  | 1  | 0  | 1  | 0  | 9+9=18|   9  |
| x2        | 1  | 0  | 1  | 0  | 0  | 0  |  0 |17+20=37|  22 |
| x3        |  0 | 1  | 0  | 0  | 0  | 0  | 1  | 8+8=16| 12   |
| x4        | 0  | 0  | 1  | 0  | 1  | 1  |  0 |20+2+9=31| 15 |

где f(x) - фитнесс-функция, вычисляющая приспособленность особи, а "Вес" - суммарный вес предметов особи.

Самой приспособленной особью оказалась x2. В скрещивании участвует половина популяции, методом рулетки проведем отбор особей, участвующих в скрещивании: **x2** и **x4**.

Применим к особям **x2** и **x4** равномерное скрещивание. Для этого сгенерируем случайную последовательность z из нулей и единиц.

| Предметы  | A  | B  | C  | D  | E  | F  | G  |
|:----------|:--:|:--:|:--:|:--:|:--:|:--:|:--:|
| x4        | 0  | 0  | 1  | 0  | 1  | 1  |  0 |
| x2        | 1  | 0  | 1  | 0  | 0  | 0  |  0 |
| z         |  0 | 1  | 0  | 1  | 0  | 1  | 0  |

Два потомка наследуют части родительских хромосом согласно правилу: первый потомок получает от первого родителя только те разряды его хромосом, у которых z(i) = 1. Оставшиеся разряды он получает от другого родителя. Для второго потомка применяется противоположное правило.

Получим:

| Предметы  | A  | B  | C  | D  | E  | F  | G  |
|:----------|:--:|:--:|:--:|:--:|:--:|:--:|:--:|
| x5        | 1  | 0  | 1  | 0  | 0  | 1  |  0 |
| x6        | 0  | 0  | 1  | 0  | 1  | 0  |  0 |

Посчитаем фитнесс-функции для полученных особей:

f(x5) = 17 + 20 + 9 = 46 (вес = 25)

f(x6) = 20 + 2 = 22 (вес = 12)

Формируем новое поколение. Для него половина лучших особей из первого поколения гарантированно переходят во второе поколение, а также половина лучших из всех остальных особей первого поколения и их потомков. В данном случае во второе поколение войдут особи **x2**, **x4**, **x5**, **x6**.

| Предметы  | A  | B  | C  | D  | E  | F  | G  | f(x)  | Вес  |
|:----------|:--:|:--:|:--:|:--:|:--:|:--:|:--:|:-----:|:----:|
| x2        | 1  | 0  | 1  | 0  | 0  | 0  |  0 |17+20=37|  22 |
| x4        | 0  | 0  | 1  | 0  | 1  | 1  |  0 |20+2+9=31| 15 |
| x5        | 1  | 0  | 1  | 0  | 0  | 1  |  0 |17+20+9=46| 25 |
| x6        | 0  | 0  | 1  | 0  | 1  | 0  |  0 | 20+2=22|  12  |

В скрещивании участвует половина популяции, методом рулетки проведем отбор особей, участвующих в скрещивании: **x4** и **x5**.

Применим к особям **x4** и **x5** равномерное скрещивание. Для этого сгенерируем случайную последовательность z из нулей и единиц.

| Предметы  | A  | B  | C  | D  | E  | F  | G  |
|:----------|:--:|:--:|:--:|:--:|:--:|:--:|:--:|
| x4        | 0  | 0  | 1  | 0  | 1  | 1  |  0 |
| x5        | 1  | 0  | 1  | 0  | 0  | 1  |  0 |
| z         |  1 | 0  | 0  | 0  | 0  | 1  | 0  |

Получим:

| Предметы  | A  | B  | C  | D  | E  | F  | G  |
|:----------|:--:|:--:|:--:|:--:|:--:|:--:|:--:|
| x7        | 1  | 0  | 1  | 0  | 1  | 1  |  0 |
| x8        | 0  | 0  | 1  | 0  | 0  | 1  |  0 |

Посчитаем фитнесс-функции для полученных особей:

f(x7) = 17 + 20 + 2 + 9 = 48 (вес = 27)

f(x8) = 20 + 9 = 29 (вес = 13)

Особь x7 нежтзнеспособна, так как ее вес превышает вместимость рюкзака. Применим к ней мутацию в шестой позиции:

| Предметы  | A  | B  | C  | D  | E  | F  | G  |
|:----------|:--:|:--:|:--:|:--:|:--:|:--:|:--:|
| x7        | 1  | 0  | 1  | 0  | 1  | **0**  |  0 |

Посчитаем фитнесс-функцию для полученной особи:

f(x7) = 17 + 20 + 2 = 39 (вес = 24)

Формируем новое поколение. Для него половина лучших особей из первого поколения гарантированно переходят во второе поколение, а также половина лучших из всех остальных особей первого поколения и их потомков. В данном случае в третье поколение войдут особи **x2**, **x4**, **x5**, **x7**.

| Предметы  | A  | B  | C  | D  | E  | F  | G  | f(x)  | Вес  |
|:----------|:--:|:--:|:--:|:--:|:--:|:--:|:--:|:-----:|:----:|
| x2        | 1  | 0  | 1  | 0  | 0  | 0  |  0 |17+20=37|  22 |
| x4        | 0  | 0  | 1  | 0  | 1  | 1  |  0 |20+2+9=31| 15 |
| x5        | 1  | 0  | 1  | 0  | 0  | 1  |  0 |17+20+9=46| 25 |
| x7        | 1  | 0  | 1  | 0  | 1  | 0  |  0 |17+20+2=39| 24 |

В скрещивании участвует половина популяции, методом рулетки проведем отбор особей, участвующих в скрещивании: **x2** и **x7**.

Применим к особям **x2** и **x7** равномерное скрещивание. Для этого сгенерируем случайную последовательность z из нулей и единиц.

| Предметы  | A  | B  | C  | D  | E  | F  | G  |
|:----------|:--:|:--:|:--:|:--:|:--:|:--:|:--:|
| x2        | 1  | 0  | 1  | 0  | 0  | 0  |  0 |
| x7        | 1  | 0  | 1  | 0  | 1  | 0  |  0 |
| z         |  1 | 0  | 1  | 0  | 0  | 1  | 1  |

Получим:

| Предметы  | A  | B  | C  | D  | E  | F  | G  |
|:----------|:--:|:--:|:--:|:--:|:--:|:--:|:--:|
| x9        | 1  | 0  | 1  | 0  | 0  | 0  |  0 |
| x10       | 1  | 0  | 1  | 0  | 1  | 0  |  0 |

Посчитаем фитнесс-функции для полученных особей:

f(x9) = 17 + 20 = 37 (вес = 22)

f(x10) = 17 + 20 + 2= 39 (вес = 24)

Формируем новое поколение. Для него половина лучших особей из первого поколения гарантированно переходят во второе поколение, а также половина лучших из всех остальных особей первого поколения и их потомков. В данном случае в четвертое поколение войдут особи **x7**, **x5**, **x9**, **x10**.

| Предметы  | A  | B  | C  | D  | E  | F  | G  | f(x)  | Вес  |
|:----------|:--:|:--:|:--:|:--:|:--:|:--:|:--:|:-----:|:----:|
| x9        | 1  | 0  | 1  | 0  | 0  | 0  |  0 |17+20=37|  22 |
| x10       | 1  | 0  | 1  | 0  | 1  | 0  |  0 |17+20+2=39| 24 |
| x5        | 1  | 0  | 1  | 0  | 0  | 1  |  0 |17+20+9=46| 25 |
| x7        | 1  | 0  | 1  | 0  | 1  | 0  |  0 |17+20+2=39| 24 |

Условие завершение алгоритма достигнуто: сформировано 4 поколения, считая первоначальное. Кроме того, приспособленность лучшей особи x5 не изменялась на протяжении нескольких подряд идущих поколений.

**Ответ: 
максимально возможная стоимость предметов в рюкзаке = 46
набор предметов, обеспечивающих максимальную стоимость = {A, C, F}
общий вес предметов в рюкзаке = 25
свободное место в рюкзаке = 0.**