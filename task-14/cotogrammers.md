# Задание 14. Вариант №2 #
## Условие ##
Три завода имеют производительность 7, 2 и 4, а два складских помещения имеют вместимость 8 и 5.
Матрица затрат на перевозку
|     |**1**|**2**|
|:---:|:---:|:---:|
|**A**| 20  | 30  |
|**B**| 10  |  8  |
|**C**| 12  | 11  |
## Решение ##
### Задание 1 ###
$$ A → 1 $$
$$ A → 2 $$ 
$$ B → 2 $$ 
$$ C → 1 $$
S = 4 * 20 + 3 * 30 + 2 * 8 + 4 * 12 = 234 (у.е.)
### Задание 2 ###

```mermaid
graph LR
    s-->|7|A
    s-->|2|B
    s-->|4|C
    A-->|7, 4|1
    A-->|7, 3|2
    B-->|2, 0|1
    B-->|2, 2|2
    C-->|4, 4|1
    C-->|4, 0|2
    1-->|8, 8|t
    2-->|5, 5|t
```
На дугах указаны пары чисел, где первое число - локальный поток, а второе - пропускная способность. Локальные потоки выбраны из условия задания 1. Локальные потоки дуг, входящих и исходящих из вершин левой доли графа, являются производительностью заводов, а исходящих из вершин правой доли - вместимостью складов.

```mermaid
graph LR
    s--->|7|A
    s--->|2|B
    s--->|4|C
    A--->|4|1
    1-.->|3|A
    A--->|3|2
    2-.->|4|A
    1-.->|2|B
    B--->|2|2
    C--->|4|1
    2-.->|4|C
    1--->|8|t
    2--->|5|t
```
Остаточная сеть с абсолютными величинами стоимости.
```mermaid
graph LR
    s--->|0|A
    s--->|0|B
    s--->|0|C
    A--->|-20|1
    1-.->|+20|A
    A--->|-30|2
    2-.->|+30|A
    1-.->|+10|B
    B--->|-8|2
    C--->|-12|1
    2-.->|+11|C
    1--->|0|t
    2--->|0|t
```
В построенном графе присутствует цикл отрицательной стоимости
$$ 1 → A → 2 → C → 1 $$
Данный цикл указывает на возможность альтернативной менее затратной транспортировки.<br>
Сумма стоимостей равна -11<br>Минимальный вес среди представленных дуг равен 3<br>
Таким образом, уничтожая отрицательный цикл, мы перенаправляем 3 единицы товара и экономим 11 единиц товара.
```mermaid
graph LR
    s--->|7|A
    s--->|2|B
    s--->|4|C
    A--->|7|1
    2-.->|7|A
    1-.->|2|B
    B--->|2|2
    C--->|1|1
    1-.->|3|C
    C--->|3|2
    2-.->|1|C
    1--->|8|t
    2--->|5|t
```
Остаточная сеть с абсолютными величинами стоимости.
```mermaid
graph LR
    s--->|0|A
    s--->|0|B
    s--->|0|C
    A--->|-20|1
    2-.->|+30|A
    1-.->|+10|B
    B--->|-8|2
    C--->|-12|1
    1-.->|+12|C
    C--->|-11|2
    2-.->|+11|C
    1--->|0|t
    2--->|0|t
```
Нет циклов отрицательной стоимости. Следовательно, мы уже имеем оптимальное решение для транспортировки товаров с минимальными затратами.
$$ A → 1 $$
$$ B → 2 $$ 
$$ C → 1 $$
$$ C → 2 $$
S = 7 * 20 + 2 * 8 + 3 * 11 + 1 * 12 = 201 (у.е.)
### Ответ ###
Минимальная стоимость: 201